{"version":3,"sources":["descriptions/index.jsx"],"names":["DescriptionsItem","children","generateChildrenRows","cloneChildren","column","childrenArray","columnArray","totalRowSpan","React","Children","forEach","node","push","props","span","length","renderCol","child","bordered","prefixCls","label","className","renderLabelCol","renderContentCol","renderRow","index","layout","isLast","lastChildren","pop","cloneElement","cloneLabelChildren","map","childrenItem","cloneContentChildren","defaultColumnMap","xxl","xl","lg","md","sm","xs","Descriptions","arguments","state","screens","token","ResponsiveObserve","subscribe","setState","unsubscribe","i","responsiveArray","breakpoint","undefined","getPrefixCls","customizePrefixCls","title","size","style","getColumn","isValidElement","Component","defaultProps","Item"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport warning from '../_util/warning';\nimport ResponsiveObserve, { responsiveArray, } from '../_util/responsiveObserve';\nimport { ConfigConsumer } from '../config-provider';\nconst DescriptionsItem = ({ children }) => children;\n/**\n * Convert children into `column` groups.\n * @param cloneChildren: DescriptionsItem\n * @param column: number\n */\nconst generateChildrenRows = (cloneChildren, column) => {\n    const childrenArray = [];\n    let columnArray = [];\n    let totalRowSpan = 0;\n    React.Children.forEach(cloneChildren, (node) => {\n        columnArray.push(node);\n        if (node.props.span) {\n            totalRowSpan += node.props.span;\n        }\n        else {\n            totalRowSpan += 1;\n        }\n        if (totalRowSpan >= column) {\n            warning(totalRowSpan <= column, 'Descriptions', 'Sum of column `span` in a line exceeds `column` of Descriptions.');\n            childrenArray.push(columnArray);\n            columnArray = [];\n            totalRowSpan = 0;\n        }\n    });\n    if (columnArray.length > 0) {\n        childrenArray.push(columnArray);\n        columnArray = [];\n    }\n    return childrenArray;\n};\n/**\n * This code is for handling react15 does not support returning an array,\n * It can convert a children into th and td\n * @param child DescriptionsItem\n * @returns\n * <>\n *   <th>{DescriptionsItem.label}</th>\n *   <td>{DescriptionsItem.children}</td>\n * </>\n */\nconst renderCol = (child, bordered) => {\n    const { prefixCls, label, className, children, span = 1 } = child.props;\n    if (bordered) {\n        return [\n            <th className={classNames(`${prefixCls}-item-label`, className, {\n                [`${prefixCls}-item-no-label`]: !label,\n            })} key=\"label\">\n        {label}\n      </th>,\n            <td className={classNames(`${prefixCls}-item-content`, className)} key=\"content\" colSpan={span * 2 - 1}>\n        {children}\n      </td>,\n        ];\n    }\n    return (<td colSpan={span} className={classNames(`${prefixCls}-item`, className)}>\n      <span className={classNames(`${prefixCls}-item-label`, {\n        [`${prefixCls}-item-no-label`]: !label,\n    })} key=\"label\">\n        {label}\n      </span>\n      <span className={`${prefixCls}-item-content`} key=\"content\">\n        {children}\n      </span>\n    </td>);\n};\nconst renderLabelCol = (child, bordered) => {\n    const { prefixCls, label, span = 1 } = child.props;\n    if (bordered) {\n        return (<td className={`${prefixCls}-item-label`} key=\"label\" colSpan={span * 2 - 1}>\n        {label}\n      </td>);\n    }\n    return (<td colSpan={span} className={`${prefixCls}-item`}>\n      <span className={`${prefixCls}-item-label`} key=\"label\">\n        {label}\n      </span>\n    </td>);\n};\nconst renderContentCol = (child, bordered) => {\n    const { prefixCls, children, span = 1 } = child.props;\n    if (bordered) {\n        return (<td className={`${prefixCls}-item-content`} key=\"content\" colSpan={span * 2 - 1}>\n        {children}\n      </td>);\n    }\n    return (<td colSpan={span} className={`${prefixCls}-item`}>\n      <span className={`${prefixCls}-item-content`} key=\"content\">\n        {children}\n      </span>\n    </td>);\n};\nconst renderRow = (children, index, { prefixCls, column, isLast }, bordered, layout) => {\n    // copy children,prevent changes to incoming parameters\n    const childrenArray = [...children];\n    let lastChildren = childrenArray.pop();\n    const span = column - childrenArray.length;\n    if (isLast) {\n        lastChildren = React.cloneElement(lastChildren, {\n            span,\n        });\n    }\n    if (layout === 'vertical') {\n        const cloneLabelChildren = React.Children.map(childrenArray, (childrenItem) => {\n            return renderLabelCol(childrenItem, bordered);\n        });\n        const cloneContentChildren = React.Children.map(childrenArray, (childrenItem) => {\n            return renderContentCol(childrenItem, bordered);\n        });\n        return [\n            <tr className={`${prefixCls}-row`} key={`label-${index}`}>\n        {cloneLabelChildren}\n        {renderLabelCol(lastChildren, bordered)}\n      </tr>,\n            <tr className={`${prefixCls}-row`} key={`content-${index}`}>\n        {cloneContentChildren}\n        {renderContentCol(lastChildren, bordered)}\n      </tr>,\n        ];\n    }\n    const cloneChildren = React.Children.map(childrenArray, (childrenItem) => {\n        return renderCol(childrenItem, bordered);\n    });\n    return (<tr className={`${prefixCls}-row`} key={index}>\n      {cloneChildren}\n      {renderCol(lastChildren, bordered)}\n    </tr>);\n};\nconst defaultColumnMap = {\n    xxl: 3,\n    xl: 3,\n    lg: 3,\n    md: 3,\n    sm: 2,\n    xs: 1,\n};\nclass Descriptions extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            screens: {},\n        };\n    }\n    componentDidMount() {\n        const { column } = this.props;\n        this.token = ResponsiveObserve.subscribe(screens => {\n            if (typeof column !== 'object') {\n                return;\n            }\n            this.setState({\n                screens,\n            });\n        });\n    }\n    componentWillUnmount() {\n        ResponsiveObserve.unsubscribe(this.token);\n    }\n    getColumn() {\n        const { column } = this.props;\n        if (typeof column === 'object') {\n            for (let i = 0; i < responsiveArray.length; i++) {\n                const breakpoint = responsiveArray[i];\n                if (this.state.screens[breakpoint] && column[breakpoint] !== undefined) {\n                    return column[breakpoint] || defaultColumnMap[breakpoint];\n                }\n            }\n        }\n        //If the configuration is not an object, it is a number, return number\n        if (typeof column === 'number') {\n            return column;\n        }\n        // If it is an object, but no response is found, this happens only in the test.\n        // Maybe there are some strange environments\n        return 3;\n    }\n    render() {\n        return (<ConfigConsumer>\n        {({ getPrefixCls }) => {\n            const { className, prefixCls: customizePrefixCls, title, size, children, bordered = false, layout = 'horizontal', style, } = this.props;\n            const prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n            const column = this.getColumn();\n            const cloneChildren = React.Children.map(children, (child) => {\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        prefixCls,\n                    });\n                }\n                return child;\n            });\n            const childrenArray = generateChildrenRows(cloneChildren, column);\n            return (<div className={classNames(prefixCls, className, {\n                [`${prefixCls}-${size}`]: size !== 'default',\n                [`${prefixCls}-bordered`]: !!bordered,\n            })} style={style}>\n              {title && <div className={`${prefixCls}-title`}>{title}</div>}\n              <div className={`${prefixCls}-view`}>\n                <table>\n                  <tbody>\n                    {childrenArray.map((child, index) => renderRow(child, index, {\n                prefixCls,\n                column,\n                isLast: index + 1 === childrenArray.length,\n            }, bordered, layout))}\n                  </tbody>\n                </table>\n              </div>\n            </div>);\n        }}\n      </ConfigConsumer>);\n    }\n}\nDescriptions.defaultProps = {\n    size: 'default',\n    column: defaultColumnMap,\n};\nDescriptions.Item = DescriptionsItem;\nexport default Descriptions;\n"],"file":"index.js"}