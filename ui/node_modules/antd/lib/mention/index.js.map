{"version":3,"sources":["mention/index.jsx"],"names":["Mention","props","onSearchChange","value","prefix","defaultSearchChange","onChange","editorState","onFocus","ev","setState","focus","onBlur","mentionEle","_editor","focusEditor","mentionRef","ele","renderMention","getPrefixCls","customizePrefixCls","prefixCls","className","loading","placement","suggestions","state","filteredSuggestions","cls","notFoundContent","defaultSuggestions","searchValue","toLowerCase","filter","suggestion","indexOf","type","Nav","React","Component","getMentions","defaultProps","multiLines","toString","toContentState","toEditorState"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport RcMention, { Nav, toString, toEditorState, getMentions } from 'rc-editor-mention';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport warning from '../_util/warning';\nimport { ConfigConsumer } from '../config-provider';\nclass Mention extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onSearchChange = (value, prefix) => {\n            if (this.props.onSearchChange) {\n                return this.props.onSearchChange(value, prefix);\n            }\n            return this.defaultSearchChange(value);\n        };\n        this.onChange = (editorState) => {\n            if (this.props.onChange) {\n                this.props.onChange(editorState);\n            }\n        };\n        this.onFocus = (ev) => {\n            this.setState({\n                focus: true,\n            });\n            if (this.props.onFocus) {\n                this.props.onFocus(ev);\n            }\n        };\n        this.onBlur = (ev) => {\n            this.setState({\n                focus: false,\n            });\n            if (this.props.onBlur) {\n                this.props.onBlur(ev);\n            }\n        };\n        this.focus = () => {\n            this.mentionEle._editor.focusEditor();\n        };\n        this.mentionRef = (ele) => {\n            this.mentionEle = ele;\n        };\n        this.renderMention = ({ getPrefixCls }) => {\n            const { prefixCls: customizePrefixCls, className = '', loading, placement, suggestions, } = this.props;\n            const { filteredSuggestions, focus } = this.state;\n            const prefixCls = getPrefixCls('mention', customizePrefixCls);\n            const cls = classNames(className, {\n                [`${prefixCls}-active`]: focus,\n                [`${prefixCls}-placement-top`]: placement === 'top',\n            });\n            const notFoundContent = loading ? <Icon type=\"loading\"/> : this.props.notFoundContent;\n            return (<RcMention {...this.props} prefixCls={prefixCls} className={cls} ref={this.mentionRef} onSearchChange={this.onSearchChange} onChange={this.onChange} onFocus={this.onFocus} onBlur={this.onBlur} suggestions={suggestions || filteredSuggestions} notFoundContent={notFoundContent}/>);\n        };\n        this.state = {\n            filteredSuggestions: props.defaultSuggestions,\n            focus: false,\n        };\n        warning(false, 'Mention', 'Mention component is deprecated. Please use Mentions component instead.');\n    }\n    defaultSearchChange(value) {\n        const searchValue = value.toLowerCase();\n        const filteredSuggestions = (this.props.defaultSuggestions || []).filter(suggestion => {\n            if (typeof suggestion === 'string') {\n                return suggestion.toLowerCase().indexOf(searchValue) !== -1;\n            }\n            else if (suggestion.type && suggestion.type === Nav) {\n                return suggestion.props.value\n                    ? suggestion.props.value.toLowerCase().indexOf(searchValue) !== -1\n                    : true;\n            }\n        });\n        this.setState({\n            filteredSuggestions,\n        });\n    }\n    render() {\n        return <ConfigConsumer>{this.renderMention}</ConfigConsumer>;\n    }\n}\nMention.getMentions = getMentions;\nMention.defaultProps = {\n    notFoundContent: 'No matches found',\n    loading: false,\n    multiLines: false,\n    placement: 'bottom',\n};\nMention.Nav = Nav;\nMention.toString = toString;\nMention.toContentState = toEditorState;\npolyfill(Mention);\nexport default Mention;\n"],"file":"index.js"}