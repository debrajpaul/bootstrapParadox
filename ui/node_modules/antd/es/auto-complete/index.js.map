{"version":3,"sources":["auto-complete/index.jsx"],"names":["React","Option","OptGroup","classNames","InputElement","Input","Select","ConfigConsumer","isSelectOptionOrSelectOptGroup","child","type","isSelectOption","isSelectOptGroup","AutoComplete","arguments","getInputElement","children","props","element","isValidElement","Children","only","elementProps","saveSelect","node","select","renderAutoComplete","getPrefixCls","customizePrefixCls","prefixCls","size","className","notFoundContent","optionLabelProp","dataSource","cls","options","childArray","toArray","length","map","item","value","text","Error","SECRET_COMBOBOX_MODE_DO_NOT_USE","focus","blur","Component","defaultProps","transitionName","choiceTransitionName","showSearch","filterOption"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Option, OptGroup } from 'rc-select';\nimport classNames from 'classnames';\nimport InputElement from './InputElement';\nimport Input from '../input';\nimport Select from '../select';\nimport { ConfigConsumer } from '../config-provider';\nfunction isSelectOptionOrSelectOptGroup(child) {\n    return child && child.type && (child.type.isSelectOption || child.type.isSelectOptGroup);\n}\nexport default class AutoComplete extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.getInputElement = () => {\n            const { children } = this.props;\n            const element = children && React.isValidElement(children) && children.type !== Option ? (React.Children.only(this.props.children)) : (<Input />);\n            const elementProps = Object.assign({}, element.props);\n            // https://github.com/ant-design/ant-design/pull/7742\n            delete elementProps.children;\n            return <InputElement {...elementProps}>{element}</InputElement>;\n        };\n        this.saveSelect = (node) => {\n            this.select = node;\n        };\n        this.renderAutoComplete = ({ getPrefixCls }) => {\n            const { prefixCls: customizePrefixCls, size, className = '', notFoundContent, optionLabelProp, dataSource, children, } = this.props;\n            const prefixCls = getPrefixCls('select', customizePrefixCls);\n            const cls = classNames({\n                [`${prefixCls}-lg`]: size === 'large',\n                [`${prefixCls}-sm`]: size === 'small',\n                [className]: !!className,\n                [`${prefixCls}-show-search`]: true,\n                [`${prefixCls}-auto-complete`]: true,\n            });\n            let options;\n            const childArray = React.Children.toArray(children);\n            if (childArray.length && isSelectOptionOrSelectOptGroup(childArray[0])) {\n                options = children;\n            }\n            else {\n                options = dataSource\n                    ? dataSource.map(item => {\n                        if (React.isValidElement(item)) {\n                            return item;\n                        }\n                        switch (typeof item) {\n                            case 'string':\n                                return <Option key={item}>{item}</Option>;\n                            case 'object':\n                                return (<Option key={item.value}>\n                    {item.text}\n                  </Option>);\n                            default:\n                                throw new Error('AutoComplete[dataSource] only supports type `string[] | Object[]`.');\n                        }\n                    })\n                    : [];\n            }\n            return (<Select {...this.props} className={cls} mode={Select.SECRET_COMBOBOX_MODE_DO_NOT_USE} optionLabelProp={optionLabelProp} getInputElement={this.getInputElement} notFoundContent={notFoundContent} ref={this.saveSelect}>\n        {options}\n      </Select>);\n        };\n    }\n    focus() {\n        this.select.focus();\n    }\n    blur() {\n        this.select.blur();\n    }\n    render() {\n        return <ConfigConsumer>{this.renderAutoComplete}</ConfigConsumer>;\n    }\n}\nAutoComplete.Option = Option;\nAutoComplete.OptGroup = OptGroup;\nAutoComplete.defaultProps = {\n    transitionName: 'slide-up',\n    optionLabelProp: 'children',\n    choiceTransitionName: 'zoom',\n    showSearch: false,\n    filterOption: false,\n};\n"],"file":"index.js"}