{"version":3,"sources":["tag/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","classNames","omit","polyfill","Icon","CheckableTag","ConfigConsumer","PresetColorTypes","warning","Wave","PresetColorRegex","RegExp","join","Tag","props","state","visible","handleIconClick","setVisible","renderTag","configProps","_a","customizePrefixCls","prefixCls","children","otherProps","isNeedWave","type","divProps","getTagClassName","getTagStyle","renderCloseIcon","onClose","afterClose","defaultPrevented","setState","color","test","style","isPresetColor","backgroundColor","undefined","getPrefixCls","className","closable","nextProps","Component","defaultProps"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes } from '../_util/colors';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nconst PresetColorRegex = new RegExp(`^(${PresetColorTypes.join('|')})(-inverse)?$`);\nclass Tag extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: true,\n        };\n        this.handleIconClick = (e) => {\n            this.setVisible(false, e);\n        };\n        this.renderTag = (configProps) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, children } = _a, otherProps = __rest(_a, [\"prefixCls\", \"children\"]);\n            const isNeedWave = 'onClick' in otherProps || (children && children.type === 'a');\n            const divProps = omit(otherProps, ['onClose', 'afterClose', 'color', 'visible', 'closable']);\n            return isNeedWave ? (<Wave>\n        <div {...divProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n          {children}\n          {this.renderCloseIcon()}\n        </div>\n      </Wave>) : (<div {...divProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n        {children}\n        {this.renderCloseIcon()}\n      </div>);\n        };\n        warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version.\");\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return {\n                visible: nextProps.visible,\n            };\n        }\n        return null;\n    }\n    setVisible(visible, e) {\n        const { onClose, afterClose } = this.props;\n        if (onClose) {\n            onClose(e);\n        }\n        if (afterClose && !onClose) {\n            // next version remove.\n            afterClose();\n        }\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!('visible' in this.props)) {\n            this.setState({ visible });\n        }\n    }\n    isPresetColor(color) {\n        if (!color) {\n            return false;\n        }\n        return PresetColorRegex.test(color);\n    }\n    getTagStyle() {\n        const { color, style } = this.props;\n        const isPresetColor = this.isPresetColor(color);\n        return Object.assign({ backgroundColor: color && !isPresetColor ? color : undefined }, style);\n    }\n    getTagClassName({ getPrefixCls }) {\n        const { prefixCls: customizePrefixCls, className, color } = this.props;\n        const { visible } = this.state;\n        const isPresetColor = this.isPresetColor(color);\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        return classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-hidden`]: !visible,\n        }, className);\n    }\n    renderCloseIcon() {\n        const { closable } = this.props;\n        return closable ? <Icon type=\"close\" onClick={this.handleIconClick}/> : null;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTag}</ConfigConsumer>;\n    }\n}\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\npolyfill(Tag);\nexport default Tag;\n"],"file":"index.js"}